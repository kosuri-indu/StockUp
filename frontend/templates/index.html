<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}" />
    <title>StockUp | Your Smart Fridge Assistant</title>
    <style>
        /* Page Transition CSS */
        .page-transition {
          position: absolute;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
          opacity: 0;
          transform: translateX(100%);
          transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }

        .page-transition.active {
          opacity: 1;
        }

        .page-transition.fade-out {
          opacity: 0;
        }

        /* Header image styles */
        .header__image::before {
          position: absolute;
          content: "";
          width: 100%;
          max-width: 550px;
          aspect-ratio: 1;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-image: url("{{url_for('static', filename='images/header-bg.png')}}");
          background-size: cover;
          background-position: center center;
          background-repeat: no-repeat;
          border-radius: 100%;
          opacity: 0.5;
          z-index: -1;
        }
    </style>
</head>
<body>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
        <div class="flash-message {{ category }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    <div id="page-container" class="page-transition active">
        <nav>
            <div class="nav__header">
                <div class="nav__logo">
                    <a href="#">Stock<span>Up</span>.</a>
                </div>
                <div class="nav__menu__btn" id="menu-btn">
                    <span><i class="ri-menu-line"></i></span>
                </div>
            </div>
            <ul class="nav__links" id="nav-links">
                <li><a href="#">Home</a></li>
            </ul>
            <div class="nav__btns">
                <button class="btn sign__up" id="signUpBtn">Get Started</button>
            </div>
        </nav>
        <div class="header__container">
            <div class="header__image">
                <div class="header__image__card header__image__card-1">
                    <span><i class="ri-key-line"></i></span>
                    Smart Inventory
                </div>
                <div class="header__image__card header__image__card-2">
                    <span><i class="ri-calendar-2-line"></i></span>
                    Expiration Tracking
                </div>
                <div class="header__image__card header__image__card-3">
                    <span><i class="ri-map-pin-line"></i></span>
                    Recipe Suggestions
                </div>
                <div class="header__image__card header__image__card-4">
                    <span><i class="ri-guide-line"></i></span>
                    Shopping List
                </div>
            </div>

            <div class="header__content">
                <h1>LET'S STOCK UP!<br />THE <span>FUTURE</span> OF FOOD MANAGEMENT</h1>
                <p>
                    Discover a smarter way to manage your fridge with StockUp. Our app
                    helps you keep track of your inventory, monitor expiration dates,
                    find new recipes, and create shopping lists. Your journey to a more
                    organized kitchen starts here!
                </p>
                <form action="/">
                    <div class="input__row">
                        <div class="input__group">
                            <h5>Find Recipes</h5>
                            <div>
                                <span><i class="ri-search-line"></i></span>
                                <input type="text" placeholder="Enter ingredients" />
                            </div>
                        </div>
                        <div class="input__group">
                            <h5>Manage Inventory</h5>
                            <div>
                                <span><i class="ri-list-check-line"></i></span>
                                <input type="text" placeholder="Check your fridge" />
                            </div>
                        </div>
                    </div>
                    <button type="submit">Explore</button>
                </form>
                <div class="bar">
                    Copyright Â© 2024 StockUp. All rights reserved.
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/scrollreveal"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
    const signUpBtn = document.getElementById("signUpBtn");

    if (signUpBtn) {
        signUpBtn.addEventListener("click", (event) => {
            event.preventDefault();
            transitionToPage("/signup");  // Adjust URL to your Flask route
        });
    }

    function transitionToPage(newContentUrl) {
        const container = document.getElementById('page-container');
        
        // Start fade-out transition
        container.classList.add('fade-out');

        // After transition ends, fetch new content
        container.addEventListener('transitionend', function onTransitionEnd() {
            // Remove the event listener after it is triggered
            container.removeEventListener('transitionend', onTransitionEnd);

            // Fetch new page content
            fetch(newContentUrl)
                .then(response => response.text())
                .then(html => {
                    // Replace container content with new content
                    container.innerHTML = html;

                    // Remove fade-out class and activate the new content
                    container.classList.remove('fade-out');
                    container.classList.add('active');

                    // Scroll reveal or any additional setup can be re-applied here
                    ScrollReveal().reveal(".header__image img", { origin: "left", duration: 1000 });
                });
        });
    }

    const scrollRevealOption = {
        distance: "50px",
        origin: "bottom",
        duration: 1000,
    };

    ScrollReveal().reveal(".header__image img", {
        ...scrollRevealOption,
        origin: "right",
    });

    ScrollReveal().reveal(".header__content h1", {
        ...scrollRevealOption,
        delay: 500,
    });

    ScrollReveal().reveal(".header__content p", {
        ...scrollRevealOption,
        delay: 1000,
    });

    ScrollReveal().reveal(".header__content form", {
        ...scrollRevealOption,
        delay: 1500,
    });

    ScrollReveal().reveal(".header__content .bar", {
        ...scrollRevealOption,
        delay: 2000,
    });

    ScrollReveal().reveal(".header__image__card", {
        duration: 1000,
        interval: 500,
        delay: 2500,
    });
});

    </script>
  </body>
</html>